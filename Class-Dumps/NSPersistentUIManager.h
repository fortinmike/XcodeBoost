//
//     Generated by class-dump 3.5 (64 bit).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2013 by Steve Nygard.
//

#import <objc/NSObject.h>

@class NSMapTable, NSMutableArray, NSMutableDictionary, NSPersistentUICrashHandler, NSPersistentUIPreservedStateDirectory, NSPersistentUIRestorer, NSPersistentUISecureURLHerder, NSPersistentUIWindowSnapshotter, NSString, NSURL;

@interface NSPersistentUIManager : NSObject
{
    int spinlock;
    CDUnknownBlockType flushTimer;
    double scheduledFlushDeadline;
    double scheduledFlushDate;
    unsigned int disableRestorableStateWritingCounter;
    struct dispatch_queue_s *workQueue;
    NSMutableArray *sortedWindowInfos;
    NSMapTable *objectToPendingKeyPaths;
    NSMutableArray *pendingRecords;
    NSMutableDictionary *additionalBuckets;
    NSURL *persistentStateDirectoryURL;
    NSString *bundleID;
    NSPersistentUIRestorer *stateRestorer;
    NSPersistentUICrashHandler *crashHandler;
    NSPersistentUISecureURLHerder *urlHerder;
    NSPersistentUIWindowSnapshotter *windowSnapshotter;
    struct dispatch_queue_s *IOQueue;
    unsigned long long currentFileSize;
    unsigned long long fileSizeAfterLastRewrite;
    unsigned int publicPlistChecksum;
    BOOL stateDirectoryHasBeenRefreshed;
    BOOL stateFileHasBeenCreated;
    BOOL elideAllFileWrites;
    BOOL isClosedToChanges;
    NSPersistentUIPreservedStateDirectory *rawStateDirectoryAtLaunch;
    BOOL rawHadValidStateDirectoryAtLaunch;
    BOOL treatEverythingAsDirty;
    BOOL suppressedCGWindowOrderingSuccessfully;
    int suppressedCGWindowOrderingStatus;
    unsigned int contiguousInactiveFlushCount;
}

+ (id)unarchiver:(id)arg1 didDecodeObject:(id)arg2;
+ (id)_debugUnrestoredWindows;
+ (id)sharedManager;
+ (id)copyDebugDumpStateDirectory:(id)arg1;
+ (id)copyPersistentCarbonWindowDictionariesForBundleID:(id)arg1;
+ (CDUnknownBlockType)_copyCGWindowOrderingReplayer;
+ (void)_resuppressWindowOrderingNowThatStateRestorationIsOccurring;
+ (void)_permitWindowOrderingUntilStateRestoration;
+ (BOOL)_suppressCGWindowOrdering;
+ (void)_NSPersistentUIDestroyTalagentWindows:(unsigned int)arg1:(id)arg2;
+ (id)_NSPersistentUIAcquireTalagentWindowsOnConnections:(unsigned int)arg1:(struct _xpc_connection_s *)arg2;
@property BOOL rawHadValidStateDirectoryAtLaunch; // @synthesize rawHadValidStateDirectoryAtLaunch;
@property(retain) NSPersistentUIPreservedStateDirectory *rawStateDirectoryAtLaunch; // @synthesize rawStateDirectoryAtLaunch;
- (BOOL)shouldRestoreStateOnLaunch;
- (void)writePublicPlistWithOpenWindowIDs:(id)arg1 optionallyWaitingUntilDone:(BOOL)arg2;
- (void)writePublicPlistData:(id)arg1;
- (void)writeRecords:(id)arg1 withWindowInfos:(id)arg2 flushingStaleData:(BOOL)arg3;
- (void)rewriteFile:(int)arg1 withWindowInfos:(id)arg2 withImpendingRecords:(id)arg3;
- (unsigned long long)writeRecords:(id)arg1 toFile:(int)arg2;
- (BOOL)_trySystemCallDescribedBy:(const char *)arg1 executor:(CDUnknownBlockType)arg2;
- (void)elideAllFileWrites;
- (int)openPersistentStateFileForReading:(BOOL)arg1;
- (BOOL)refreshStateDirectoryIfNecessary;
- (void)tryCreatingPersistentStateDirectoryForURL:(id)arg1;
- (BOOL)promptToIgnorePersistentState;
- (BOOL)hasFinishedRestoringWindows;
- (unsigned int)acquireWindowIDForWindow:(id)arg1;
- (void)ignoreAnyPreexistingPersistentState;
- (BOOL)shouldUseOneWindowHeuristic;
- (void)resumeNormalWindowOrderingAndDrawing;
- (void)delayCGWindowOrderingIfNecessary;
- (BOOL)performingWindowOrdering;
- (BOOL)restoreAllPersistentStateRegisteringAsReadyWhenDone:(BOOL)arg1 completionHandler:(CDUnknownBlockType)arg2;
- (void)performDockCommands:(id)arg1 withOldWindowIDToNewWindowID:(id)arg2;
- (void)changePersistentKeyPathObservationForPaths:(id)arg1 inObject:(id)arg2 to:(BOOL)arg3;
- (void)observeValueForKeyPath:(id)arg1 ofObject:(id)arg2 change:(id)arg3 context:(void *)arg4;
- (void)addPendingKeyPath:(id)arg1 forObject:(id)arg2;
- (void)changeWindow:(unsigned int)arg1 toStatus:(int)arg2 withConditionalGeneration:(unsigned int)arg3;
- (void)setPublicProperties:(id)arg1 forWindowID:(unsigned int)arg2;
- (id)windowInfoForWindowID:(unsigned int)arg1 createIfNecessary:(BOOL)arg2;
- (void)applicationDidDeactivate:(id)arg1;
- (struct OpaqueLSSharedFileListRef *)getLSPersistentFileList;
- (void)refreshEncryptionKey:(BOOL)arg1;
- (void)clearCrashCountFileIfNecessary;
- (long long)crashBlameCounter;
- (unsigned int)modifyCrashBlameCounterBy:(int)arg1;
- (void)enableRestorableStateWriting;
- (void)disableRestorableStateWriting;
- (id)stateDirectoryAtLaunch;
- (BOOL)hasPersistentStateToRestore;
- (void)addObjectForKeyedState:(id)arg1 type:(int)arg2 underKey:(id)arg3 forIdentifier:(id)arg4 inWindow:(unsigned int)arg5 inBackground:(BOOL)arg6;
- (void)acquireDirtyState;
- (void)flushPersistentStateAndClose:(BOOL)arg1 waitingUntilDone:(BOOL)arg2;
- (void)fullyDirtyAndReopenPersistentState;
- (void)discardAllPersistentStateAndClose;
- (void)cancelFlushTimer;
- (void)flushAllChangesOptionallyWaitingUntilDone:(BOOL)arg1 updatingSnapshots:(BOOL)arg2;
- (id)persistentStateFileURL;
- (id)persistentStateDirectoryURL;
- (id)init;
- (id)copyPersistentCarbonWindowDictionariesAtTimeOfAppLaunch;
- (void)deletePersistentWindow:(unsigned int)arg1;
- (void)setObject:(id)arg1 forKey:(id)arg2 forPersistentWindowID:(unsigned int)arg3;
- (unsigned int)createPersistentWindow;
- (void)destroyExternallyCreatedWindows:(id)arg1;
- (id)copyAcquiredExternallyCreatedWindows;
- (void)beginAcquiringExternallyCreatedWindows;

@end

